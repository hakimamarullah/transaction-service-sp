{"openapi":"3.1.0","info":{"title":"transactions-service","description":"Transactions API","contact":{"name":"Hakim Amarullah","email":"hakimamarullah@gmail.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"servers":[{"url":"/"},{"url":"http://localhost:8080"}],"paths":{"/api/v1/transactions":{"get":{"tags":["transactions-controller"],"operationId":"getTransactions","parameters":[{"name":"year","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"month","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"name":"baseCurrency","in":"query","required":false,"schema":{"type":"string","default":"IDR"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TransactionPageResponse"}}}}},"security":[{"bearerJWT":[]}]},"post":{"tags":["transactions-controller"],"operationId":"storeTransaction","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Transaction"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}},"security":[{"bearerJWT":[]}]}}},"components":{"schemas":{"Transaction":{"type":"object","description":"Money account transaction","properties":{"id":{"type":"string","description":"Unique transaction identifier","example":"89d3o179-abcd-465b-o9ee-e2d5f6ofEld46","minLength":1},"amount":{"type":"number","description":"Transaction amount","example":100.5},"currency":{"type":"string","description":"Currency code","example":"GBP","minLength":1,"pattern":"^[A-Z]{3}$"},"accountIban":{"type":"string","description":"Account IBAN","example":"CH93-0000-0000-0000-0000-0","minLength":1},"valueDate":{"type":"string","format":"date","description":"Transaction value date","example":"2020-10-01"},"description":{"type":"string","description":"Transaction description","example":"Online payment CHF","minLength":1},"customerId":{"type":"string","description":"Customer identifier","example":"P-0123456789","minLength":1},"type":{"type":"string","description":"Transaction type","enum":["CREDIT","DEBIT"],"example":"DEBIT"}},"required":["accountIban","amount","currency","customerId","description","id","type","valueDate"]},"PageInfo":{"type":"object","description":"Pagination information","properties":{"page":{"type":"integer","format":"int32","description":"Current page number (0-based)","example":0},"size":{"type":"integer","format":"int32","description":"Page size","example":20},"totalElements":{"type":"integer","format":"int64","description":"Total number of elements","example":150},"totalPages":{"type":"integer","format":"int32","description":"Total number of pages","example":8},"first":{"type":"boolean","description":"Whether this is the first page"},"last":{"type":"boolean","description":"Whether this is the last page"},"hasNext":{"type":"boolean","description":"Whether there are more elements"},"hasPrevious":{"type":"boolean","description":"Whether there are previous elements"}}},"PageSummary":{"type":"object","description":"Page summary with totals","properties":{"totalCredits":{"type":"number","description":"Total credit amount in base currency for current page"},"totalDebits":{"type":"number","description":"Total debit amount in base currency for current page"},"netAmount":{"type":"number","description":"Net amount (credits - debits) for current page"},"baseCurrency":{"type":"string","description":"Base currency used for calculations"},"transactionCount":{"type":"integer","format":"int32","description":"Number of transactions in current page"}}},"TransactionDTO":{"type":"object","description":"Transaction DTO with exchange rate information","properties":{"id":{"type":"string","description":"Unique transaction identifier"},"originalAmount":{"type":"number","description":"Original transaction amount"},"originalCurrency":{"type":"string","description":"Original currency"},"convertedAmount":{"type":"number","description":"Amount converted to base currency at current exchange rate"},"baseCurrency":{"type":"string","description":"Base currency for conversion","example":"EUR"},"exchangeRate":{"type":"number","description":"Exchange rate used for conversion"},"accountIban":{"type":"string","description":"Account IBAN"},"valueDate":{"type":"string","format":"date","description":"Transaction value date"},"description":{"type":"string","description":"Transaction description"},"type":{"type":"string","description":"Transaction type","enum":["CREDIT","DEBIT"]}}},"TransactionPageResponse":{"type":"object","description":"Paginated transaction response","properties":{"transactions":{"type":"array","description":"List of transactions","items":{"$ref":"#/components/schemas/TransactionDTO"}},"pageInfo":{"$ref":"#/components/schemas/PageInfo","description":"Pagination information"},"summary":{"$ref":"#/components/schemas/PageSummary","description":"Summary information for the current page"}}}},"securitySchemes":{"bearerJWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}